---
- name: Install backup clientpackages
  ansible.builtin.apt:
    name: "{{ item }}"
    state: "present"
  with_items: "{{ backup_solutionL }}"

- name: Add Syncthing Apt signing key, uses whichever key is at the URL
  ansible.builtin.apt_key:
    url: https://syncthing.net/release-key.gpg
    keyring: /etc/apt/trusted.gpg.d/syncthing.gpg
    state: present

- name: Add Syncthing repository into sources list using specified filename
  ansible.builtin.apt_repository:
    repo: deb https://apt.syncthing.net/ syncthing stable
    state: present
    filename: syncthing.list

- name: Install Syncthing
  ansible.builtin.apt:
    name: "syncthing"
    state: "present"
